{
  "name": "developer-template",
  "version": "1.0.0",
  "description": "Template pour la génération de code avec animations premium",
  "variables": [
    {
      "name": "architecture",
      "type": "object",
      "required": true,
      "description": "Architecture générée par l'étape 1"
    },
    {
      "name": "userPrompt",
      "type": "string",
      "required": true,
      "description": "Prompt utilisateur original"
    },
    {
      "name": "includeAnimations",
      "type": "boolean",
      "required": false,
      "defaultValue": true,
      "description": "Inclure les composants d'animations premium"
    },
    {
      "name": "codeStyle",
      "type": "string",
      "required": false,
      "defaultValue": "modern",
      "description": "Style de code: modern, conservative, experimental"
    },
    {
      "name": "framework",
      "type": "string",
      "required": false,
      "defaultValue": "nextjs",
      "description": "Framework à utiliser: nextjs, react, vue, angular"
    },
    {
      "name": "customComponents",
      "type": "array",
      "required": false,
      "defaultValue": [],
      "description": "Composants personnalisés supplémentaires"
    }
  ],
  "template": "# ÉTAPE 2 : GÉNÉRATION AVEC ANIMATIONS PREMIUM GARANTIES\n\n**Session :** {{sessionId}}\n**Généré le :** {{timestamp}}\n**Framework :** {{upper framework}}\n**Style :** {{capitalize codeStyle}}\n\n## ARCHITECTURE REÇUE\n\n```json\n{{architecture}}\n```\n\n**Analyse rapide :**\n- Projet: {{architecture.projectName}}\n- Domaine: {{architecture.domain}}\n- Scope: {{architecture.scope}}\n- Pages: {{count architecture.fileStructure}} fichiers\n- Tech Stack: {{join architecture.techStack}}\n\n## STRATÉGIE : ANIMATIONS PREMIUM INCLUSES DIRECTEMENT\n\n**RÈGLE ABSOLUE : Copier ces composants TELS QUELS dans chaque fichier.**\n\n{{#if includeAnimations}}\n### COMPOSANTS PREMIUM À UTILISER OBLIGATOIREMENT\n\n```tsx\n// 1. CARD 3D PREMIUM (COPIER DANS CHAQUE PAGE)\nconst Card3D = ({ children, className = \"\" }) => {\n  const [transform, setTransform] = React.useState('')\n  const cardRef = React.useRef(null)\n  \n  const handleMouseMove = (e) => {\n    if (!cardRef.current) return\n    const rect = cardRef.current.getBoundingClientRect()\n    const x = (e.clientX - rect.left) / rect.width\n    const y = (e.clientY - rect.top) / rect.height\n    const rotateY = (x - 0.5) * 20\n    const rotateX = (y - 0.5) * -20\n    setTransform(`perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.05)`)\n  }\n  \n  const handleMouseLeave = () => setTransform('')\n  \n  return (\n    <div \n      ref={cardRef}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      className={`relative transition-transform duration-300 ease-out ${className}`}\n      style={{ transform, transformStyle: 'preserve-3d' }}\n    >\n      <div className=\"absolute -inset-1 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl blur-lg opacity-25 group-hover:opacity-75 transition duration-1000\"></div>\n      <div className=\"relative bg-white dark:bg-gray-900 rounded-2xl p-8 shadow-2xl\">\n        {children}\n      </div>\n    </div>\n  )\n}\n\n// 2. BOUTON MAGNÉTIQUE (COPIER DANS CHAQUE PAGE)\nconst MagneticButton = ({ children, onClick, variant = \"primary\" }) => {\n  const ref = React.useRef(null)\n  const [transform, setTransform] = React.useState('')\n  \n  const handleMouseMove = (e) => {\n    if (!ref.current) return\n    const { left, top, width, height } = ref.current.getBoundingClientRect()\n    const x = (e.clientX - left - width / 2) * 0.2\n    const y = (e.clientY - top - height / 2) * 0.2\n    setTransform(`translate(${x}px, ${y}px) scale(1.05)`)\n  }\n  \n  const handleMouseLeave = () => setTransform('translate(0, 0) scale(1)')\n  \n  const variants = {\n    primary: \"bg-gradient-to-r from-violet-600 to-indigo-600\",\n    secondary: \"bg-gradient-to-r from-emerald-600 to-teal-600\",\n    accent: \"bg-gradient-to-r from-orange-600 to-red-600\"\n  }\n  \n  return (\n    <button\n      ref={ref}\n      onClick={onClick}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      className={`relative px-8 py-4 ${variants[variant]} text-white font-bold rounded-2xl shadow-2xl transition-all duration-300 group`}\n      style={{ transform }}\n    >\n      <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000\"></div>\n      <span className=\"relative z-10\">{children}</span>\n    </button>\n  )\n}\n\n// 3. COMPTEUR ANIMÉ (COPIER DANS CHAQUE PAGE)\nconst AnimatedCounter = ({ value, duration = 2000, prefix = \"\", suffix = \"\" }) => {\n  const [count, setCount] = React.useState(0)\n  \n  React.useEffect(() => {\n    let start = 0\n    const end = value\n    const increment = end / (duration / 16)\n    const timer = setInterval(() => {\n      start += increment\n      if (start > end) {\n        setCount(end)\n        clearInterval(timer)\n      } else {\n        setCount(Math.floor(start))\n      }\n    }, 16)\n    return () => clearInterval(timer)\n  }, [value, duration])\n  \n  return (\n    <span className=\"tabular-nums font-bold text-4xl bg-gradient-to-r from-violet-600 to-pink-600 bg-clip-text text-transparent\">\n      {prefix}{count.toLocaleString()}{suffix}\n    </span>\n  )\n}\n\n// 4. HERO PARALLAX (COPIER DANS PAGE PRINCIPALE)\nconst HeroParallax = ({ title, subtitle, backgroundGradient = \"from-violet-600 via-purple-600 to-pink-600\" }) => {\n  const [scrollY, setScrollY] = React.useState(0)\n  \n  React.useEffect(() => {\n    const handleScroll = () => setScrollY(window.scrollY)\n    window.addEventListener('scroll', handleScroll)\n    return () => window.removeEventListener('scroll', handleScroll)\n  }, [])\n  \n  return (\n    <div className=\"relative h-screen overflow-hidden\">\n      <div \n        className={`absolute inset-0 bg-gradient-to-br ${backgroundGradient}`}\n        style={{ transform: `translateY(${scrollY * 0.5}px)` }}\n      />\n      <div className=\"absolute top-20 left-10 w-72 h-72 bg-purple-500 rounded-full blur-3xl opacity-30 animate-float\"></div>\n      <div className=\"absolute bottom-20 right-10 w-96 h-96 bg-pink-500 rounded-full blur-3xl opacity-30 animate-float\" style={{ animationDelay: '2s' }}></div>\n      <div className=\"relative z-10 h-full flex items-center justify-center\">\n        <div className=\"text-center text-white max-w-4xl mx-auto px-6\">\n          <h1 className=\"text-7xl font-bold mb-6 animate-in fade-in slide-in-from-bottom-5 duration-700\">{title}</h1>\n          <p className=\"text-2xl mb-8 opacity-90 animate-in fade-in slide-in-from-bottom-5 duration-700 delay-200\">{subtitle}</p>\n          <div className=\"flex gap-4 justify-center animate-in fade-in slide-in-from-bottom-5 duration-700 delay-400\">\n            <MagneticButton variant=\"primary\">Commencer →</MagneticButton>\n            <MagneticButton variant=\"secondary\">En savoir plus</MagneticButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// 5. GLASSMORPHISM CARD (BONUS)\nconst GlassCard = ({ children, className = \"\" }) => {\n  return (\n    <div className={`glass backdrop-blur-xl bg-white/10 border border-white/20 rounded-3xl p-8 shadow-2xl hover:bg-white/15 transition-all duration-300 ${className}`}>\n      {children}\n    </div>\n  )\n}\n```\n{{/if}}\n\n### CSS ANIMATIONS OBLIGATOIRES (globals.css)\n```css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* Animations Premium */\n@keyframes float {\n  0%, 100% { transform: translateY(0px); }\n  50% { transform: translateY(-20px); }\n}\n\n@keyframes shimmer {\n  0% { background-position: -1000px 0; }\n  100% { background-position: 1000px 0; }\n}\n\n@keyframes glow {\n  0%, 100% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.5); }\n  50% { box-shadow: 0 0 40px rgba(139, 92, 246, 0.8), 0 0 60px rgba(139, 92, 246, 0.4); }\n}\n\n@keyframes pulse-subtle {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.8; }\n}\n\n@keyframes slide-up {\n  from { transform: translateY(100px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n}\n\n.animate-float { animation: float 6s ease-in-out infinite; }\n.animate-shimmer { \n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n  background-size: 1000px 100%;\n  animation: shimmer 2s infinite;\n}\n.animate-glow { animation: glow 2s ease-in-out infinite; }\n.animate-pulse-subtle { animation: pulse-subtle 3s ease-in-out infinite; }\n.animate-slide-up { animation: slide-up 0.6s ease-out; }\n\n/* Glassmorphism */\n.glass {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.glass-dark {\n  background: rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n/* Neon effects */\n.neon-purple {\n  box-shadow: \n    0 0 10px #a855f7,\n    0 0 20px #a855f7,\n    0 0 30px #a855f7,\n    0 0 40px #a855f7;\n}\n\n.neon-blue {\n  box-shadow: \n    0 0 10px #3b82f6,\n    0 0 20px #3b82f6,\n    0 0 30px #3b82f6;\n}\n\n/* Scroll animations */\n.animate-in {\n  animation-fill-mode: both;\n}\n\n.fade-in {\n  animation: fadeIn 0.6s ease-out;\n}\n\n.slide-in-from-bottom-5 {\n  animation: slideInFromBottom 0.6s ease-out;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideInFromBottom {\n  from { transform: translateY(20px); opacity: 0; }\n  to { transform: translateY(0); opacity: 1; }\n}\n\n.delay-200 { animation-delay: 200ms; }\n.delay-400 { animation-delay: 400ms; }\n.delay-600 { animation-delay: 600ms; }\n\n/* Custom scrollbar */\n::-webkit-scrollbar {\n  width: 8px;\n}\n\n::-webkit-scrollbar-track {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n::-webkit-scrollbar-thumb {\n  background: linear-gradient(180deg, #a855f7, #ec4899);\n  border-radius: 4px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n  background: linear-gradient(180deg, #9333ea, #db2777);\n}\n```\n\n## GÉNÉRATION PAR FICHIER\n\n**FORMAT STRICT - PAS D'EXPLICATIONS :**\n\n```\n// Fichier: {{ifSet framework \"app/layout.tsx\" \"src/Layout.tsx\"}}\n[CODE incluant Navigation avec les liens de l'architecture + theme provider]\n\n// Fichier: {{ifSet framework \"app/page.tsx\" \"src/App.tsx\"}}\n[CODE incluant HeroParallax + sections avec Card3D]\n\n{{#each architecture.fileStructure}}\n{{#if this.path}}\n// Fichier: {{this.path}}\n[CODE pour {{this.description}} avec composants premium intégrés]\n{{/if}}\n{{/each}}\n\n// Fichier: {{ifSet framework \"app/globals.css\" \"src/styles/globals.css\"}}\n[CSS ci-dessus EXACTEMENT]\n\n// Fichier: components/ui/Button.tsx\n[Export du MagneticButton avec variants]\n\n// Fichier: components/ui/Card.tsx\n[Export du Card3D et GlassCard]\n\n// Fichier: components/ui/Counter.tsx\n[Export du AnimatedCounter]\n\n// Fichier: components/sections/Hero.tsx\n[Export du HeroParallax]\n\n{{#each customComponents}}\n// Fichier: components/{{this}}.tsx\n[Composant personnalisé avec animations]\n{{/each}}\n\n// Fichier: package.json\n[Configuration complète avec toutes les dépendances]\n\n// Fichier: tailwind.config.js\n[Configuration Tailwind avec animations personnalisées]\n\n{{#if framework}}\n// Fichier: {{framework}}.config.js\n[Configuration framework spécifique]\n{{/if}}\n```\n\n## DONNÉES SELON LE DOMAINE\n\n{{#if architecture.domain}}\n### Données pour {{upper architecture.domain}}\n{{/if}}\n\n{{#if architecture.domain === \"edtech_school\" || architecture.domain === \"edtech_higher\" || architecture.domain === \"edtech_professional\"}}\n```tsx\nconst mockData = {\n  student: {\n    name: \"Emma Martin\",\n    level: 12,\n    xp: 2450,\n    streak: 47,\n    badges: [\"Mathématicien\", \"Lecteur Assidu\", \"Champion Calcul\", \"Scientifique en Herbe\"],\n    courses: [\n      { name: \"Mathématiques CE2\", progress: 85, nextLesson: \"Les fractions\" },\n      { name: \"Français CM1\", progress: 92, nextLesson: \"Le passé composé\" },\n      { name: \"Sciences CM2\", progress: 73, nextLesson: \"Le cycle de l'eau\" },\n      { name: \"Histoire CM1\", progress: 68, nextLesson: \"La Renaissance\" }\n    ],\n    stats: {\n      timeStudied: 145, // minutes this week\n      exercisesCompleted: 28,\n      averageScore: 89\n    }\n  },\n  leaderboard: [\n    { name: \"Emma Martin\", points: 2450, avatar: \"/api/placeholder/40/40\" },\n    { name: \"Lucas Dubois\", points: 2380, avatar: \"/api/placeholder/40/40\" },\n    { name: \"Chloé Bernard\", points: 2290, avatar: \"/api/placeholder/40/40\" }\n  ]\n}\n```\n{{/if}}\n\n{{#if architecture.domain === \"fintech_banking\" || architecture.domain === \"fintech_payment\" || architecture.domain === \"fintech_trading\"}}\n```tsx\nconst mockData = {\n  account: {\n    balance: 12450.50,\n    currency: \"EUR\",\n    accountNumber: \"**** 4321\",\n    lastUpdate: \"Il y a 2 minutes\"\n  },\n  transactions: [\n    { id: 1, merchant: \"Apple Store\", amount: -999, date: \"Aujourd'hui 14:30\", category: \"Technology\", status: \"completed\" },\n    { id: 2, merchant: \"Salaire Novembre\", amount: 3500, date: \"01/11 09:00\", category: \"Salary\", status: \"completed\" },\n    { id: 3, merchant: \"Carrefour\", amount: -89.45, date: \"Hier 18:15\", category: \"Groceries\", status: \"completed\" },\n    { id: 4, merchant: \"Netflix\", amount: -15.99, date: \"01/11 12:00\", category: \"Entertainment\", status: \"pending\" }\n  ],\n  cards: [\n    { id: 1, name: \"Carte Principale\", number: \"**** 4321\", type: \"Mastercard\", color: \"from-violet-600 to-purple-600\" },\n    { id: 2, name: \"Carte Épargne\", number: \"**** 8765\", type: \"Visa\", color: \"from-emerald-600 to-teal-600\" }\n  ],\n  insights: {\n    monthlySpending: 2456.78,\n    savingsGoal: 15000,\n    currentSavings: 8940.12\n  }\n}\n```\n{{/if}}\n\n{{#if architecture.domain === \"saas_analytics\" || architecture.domain === \"saas_productivity\"}}\n```tsx\nconst mockData = {\n  dashboard: {\n    users: 24567,\n    revenue: 156780,\n    conversion: 3.2,\n    growth: 12.5\n  },\n  charts: [\n    { month: 'Jan', revenue: 45000, users: 12000, conversion: 2.8 },\n    { month: 'Fév', revenue: 52000, users: 14500, conversion: 2.9 },\n    { month: 'Mar', revenue: 61000, users: 16800, conversion: 3.1 },\n    { month: 'Avr', revenue: 58000, users: 18200, conversion: 3.0 },\n    { month: 'Mai', revenue: 67000, users: 21000, conversion: 3.2 }\n  ],\n  topPages: [\n    { page: \"/dashboard\", views: 45678, bounce: 23.4 },\n    { page: \"/analytics\", views: 32456, bounce: 18.9 },\n    { page: \"/settings\", views: 28934, bounce: 34.2 },\n    { page: \"/reports\", views: 21345, bounce: 28.7 }\n  ]\n}\n```\n{{/if}}\n\n{{#if architecture.domain === \"ecommerce_b2c\" || architecture.domain === \"ecommerce_b2b\"}}\n```tsx\nconst mockData = {\n  products: [\n    { id: 1, name: \"MacBook Pro M3 14\\\"\", price: 2499, originalPrice: 2699, image: \"/api/placeholder/400/300\", rating: 4.8, reviews: 127, inStock: true, category: \"Electronics\" },\n    { id: 2, name: \"iPhone 15 Pro Max\", price: 1199, image: \"/api/placeholder/400/300\", rating: 4.9, reviews: 89, inStock: true, category: \"Electronics\" },\n    { id: 3, name: \"AirPods Pro 2\", price: 249, originalPrice: 279, image: \"/api/placeholder/400/300\", rating: 4.7, reviews: 234, inStock: false, category: \"Audio\" },\n    { id: 4, name: \"iPad Air M2\", price: 649, image: \"/api/placeholder/400/300\", rating: 4.6, reviews: 156, inStock: true, category: \"Tablets\" }\n  ],\n  cart: {\n    items: 3,\n    total: 3947,\n    shipping: 0,\n    tax: 394.7\n  },\n  categories: [\n    { name: \"Electronics\", count: 1234, image: \"/api/placeholder/200/200\" },\n    { name: \"Audio\", count: 567, image: \"/api/placeholder/200/200\" },\n    { name: \"Tablets\", count: 890, image: \"/api/placeholder/200/200\" },\n    { name: \"Accessories\", count: 2345, image: \"/api/placeholder/200/200\" }\n  ]\n}\n```\n{{/if}}\n\n**GÉNÈRE MAINTENANT. CODE UNIQUEMENT. COMPOSANTS PREMIUM INCLUS.**\n\n## REQUIREMENTS ABSOLUS :\n\n1. {{ifSet includeAnimations \"✅ Inclure les 5 composants premium dans chaque page\" \"⚠️ Version basique sans animations\"}}\n2. ✅ Utiliser les données spécifiques au domaine {{upper architecture.domain}}\n3. ✅ Appliquer le CSS complet avec animations{{ifSet includeAnimations \" premium\" \"\"}}\n4. ✅ Générer TOUS les fichiers de l'architecture ({{count architecture.fileStructure}} fichiers)\n5. ✅ Code production-ready avec TypeScript strict\n6. ✅ Responsive design avec Tailwind CSS\n7. ✅ Framework {{upper framework}} avec bonnes pratiques\n8. {{ifSet codeStyle \"✅ Style de code: \" + (upper codeStyle)}}{{ifSet customComponents \"\\n9. ✅ Composants custom: \" + (join customComponents)}}\n\n**Session ID :** {{sessionId}}\n**Timestamp :** {{isoTimestamp}}",
  "metadata": {
    "author": "App Generator System", 
    "created": "2025-01-09T00:00:00.000Z",
    "updated": "2025-01-09T00:00:00.000Z",
    "tags": ["development", "step2", "animations", "premium", "typescript"]
  }
}